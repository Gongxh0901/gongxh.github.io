<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title | default: "游戏开发技术分享平台" }}</title>
    <meta name="description"
        content="{{ page.excerpt | default: site.description | strip_html | strip_newlines | truncate: 160 }}">

    <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">
    {% if site.plugins contains "jekyll-feed" %}
    <link type="application/atom+xml" rel="alternate" href="{{ '/feed.xml' | relative_url }}"
        title="{{ site.title | escape }}">
    {% endif %}
</head>

<body>
    <div class="page-wrapper">
        <!-- 左侧固定导航栏 -->
        {% include sidebar.html %}

        <!-- 右侧内容区域 -->
        <div class="right-content-area">
            <!-- 固定顶部 header -->
            {% include header.html %}

            <!-- 可滚动的主内容区域 -->
            <main class="main-content" id="mainContent">
                <div class="content-wrapper">
                    <!-- 首页内容 -->
                    <section class="content-section active" id="home-content">
                        <div class="page-header">
                            <h1 class="page-title">欢迎来到游戏开发技术分享平台</h1>
                            <p class="page-subtitle">专注于Cocos Creator游戏开发技术</p>
                        </div>

                        <div class="intro-section">
                            <div class="intro-card">
                                <h2>🎮 专业游戏开发</h2>
                                <p>10+年游戏开发经验，专注于Cocos Creator引擎开发，深入理解游戏架构设计与性能优化。</p>
                            </div>

                            <div class="intro-card">
                                <h2>🛠️ 开发工具专家</h2>
                                <p>分享实用的开发工具使用技巧，提供自研工具和插件，帮助开发者提升效率。</p>
                            </div>

                            <div class="intro-card">
                                <h2>📚 技术知识分享</h2>
                                <p>定期分享技术文章、踩坑经验和最佳实践，与开发者社区共同成长。</p>
                            </div>
                        </div>
                    </section>

                    <!-- 游戏项目内容 -->
                    <section class="content-section" id="projects-content">
                        <div class="page-header">
                            <h1 class="page-title">游戏项目</h1>
                            <p class="page-subtitle">我的游戏开发项目展示</p>
                        </div>
                        <div class="dynamic-content">
                            <!-- 动态子页签 -->
                            <div class="sub-tabs">
                                {% assign game_project_posts = site.posts | where_exp: "post", "post.categories contains
                                '游戏项目'" %}
                                {% if game_project_posts.size > 0 %}
                                {% for post in game_project_posts %}
                                <button class="sub-tab-btn" data-target="projects-{{ forloop.index }}">
                                    {{ post.title }}
                                </button>
                                {% endfor %}
                                {% else %}
                                <p class="no-content">暂无游戏项目文章</p>
                                {% endif %}
                            </div>

                            <!-- 动态内容区 -->
                            <div class="sub-content-area">
                                {% if game_project_posts.size > 0 %}
                                {% for post in game_project_posts %}
                                <div class="sub-content {% if forloop.first %}active{% endif %}"
                                    id="projects-{{ forloop.index }}-content">
                                    <div class="post-full-content">
                                        <h2>{{ post.title }}</h2>
                                        <div class="post-meta">
                                            <time>{{ post.date | date: "%Y年%m月%d日" }}</time>
                                            {% if post.tags %}
                                            <div class="tags">
                                                {% for tag in post.tags %}
                                                <span class="tag">#{{ tag }}</span>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                        </div>
                                        <div class="post-content">
                                            {{ post.content }}
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </section>

                    <!-- 项目展示子页面 -->
                    <section class="content-section" id="project-showcase-content">
                        <div class="page-header">
                            <h1 class="page-title">项目展示</h1>
                            <p class="page-subtitle">我的开源项目和开发工具</p>
                        </div>
                        <div class="projects-container">
                            <!-- 精选项目 -->
                            {% if site.data.projects.featured %}
                            <div class="project-section">
                                <h2 class="section-title">🌟 精选项目</h2>
                                <div class="project-grid">
                                    {% for project in site.data.projects.featured %}
                                    <div class="project-card" data-project="{{ project.id }}">
                                        <div class="project-header">
                                            <h3 class="project-title">{{ project.title }}</h3>
                                            <span class="project-status status-{{ project.status }}">
                                                {% case project.status %}
                                                {% when 'active' %}进行中
                                                {% when 'completed' %}已完成
                                                {% when 'development' %}开发中
                                                {% when 'planning' %}计划中
                                                {% endcase %}
                                            </span>
                                        </div>
                                        <div class="project-description">
                                            {{ project.description }}
                                        </div>
                                        <div class="tech-stack">
                                            {% for tech in project.tech_stack %}
                                            <span class="tech-tag">{{ tech }}</span>
                                            {% endfor %}
                                        </div>
                                        <div class="project-links">
                                            {% if project.github != "" %}
                                            <a href="{{ project.github }}" target="_blank"
                                                class="project-link github">GitHub</a>
                                            {% endif %}
                                            {% if project.demo != "" %}
                                            <a href="{{ project.demo }}" target="_blank"
                                                class="project-link demo">演示</a>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}

                            <!-- 开源库 -->
                            {% if site.data.projects.libraries %}
                            <div class="project-section">
                                <h2 class="section-title">📚 开源库</h2>
                                <div class="project-grid">
                                    {% for project in site.data.projects.libraries %}
                                    <div class="project-card" data-project="{{ project.id }}">
                                        <div class="project-header">
                                            <h3 class="project-title">{{ project.title }}</h3>
                                            <span class="project-status status-{{ project.status }}">
                                                {% case project.status %}
                                                {% when 'active' %}活跃
                                                {% when 'completed' %}已完成
                                                {% when 'development' %}开发中
                                                {% when 'planning' %}计划中
                                                {% endcase %}
                                            </span>
                                        </div>
                                        <div class="project-description">
                                            {{ project.description }}
                                        </div>
                                        <div class="tech-stack">
                                            {% for tech in project.tech_stack %}
                                            <span class="tech-tag">{{ tech }}</span>
                                            {% endfor %}
                                        </div>
                                        <div class="project-links">
                                            {% if project.github != "" %}
                                            <a href="{{ project.github }}" target="_blank"
                                                class="project-link github">GitHub</a>
                                            {% endif %}
                                            {% if project.demo != "" %}
                                            <a href="{{ project.demo }}" target="_blank"
                                                class="project-link demo">演示</a>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}

                            <!-- 开发工具 -->
                            {% if site.data.projects.tools %}
                            <div class="project-section">
                                <h2 class="section-title">🛠️ 开发工具</h2>
                                <div class="project-grid">
                                    {% for project in site.data.projects.tools %}
                                    <div class="project-card" data-project="{{ project.id }}">
                                        <div class="project-header">
                                            <h3 class="project-title">{{ project.title }}</h3>
                                            <span class="project-status status-{{ project.status }}">
                                                {% case project.status %}
                                                {% when 'active' %}可用
                                                {% when 'completed' %}已完成
                                                {% when 'development' %}开发中
                                                {% when 'planning' %}计划中
                                                {% endcase %}
                                            </span>
                                        </div>
                                        <div class="project-description">
                                            {{ project.description }}
                                        </div>
                                        <div class="tech-stack">
                                            {% for tech in project.tech_stack %}
                                            <span class="tech-tag">{{ tech }}</span>
                                            {% endfor %}
                                        </div>
                                        <div class="project-links">
                                            {% if project.github != "" %}
                                            <a href="{{ project.github }}" target="_blank"
                                                class="project-link github">GitHub</a>
                                            {% endif %}
                                            {% if project.demo != "" %}
                                            <a href="{{ project.demo }}" target="_blank"
                                                class="project-link demo">演示</a>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </section>

                    <!-- 项目详情子页面 -->
                    <section class="content-section" id="project-details-content">
                        <div class="page-header">
                            <h1 class="page-title">项目详情</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>项目详情内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 游戏开发工具内容 -->
                    <section class="content-section" id="tools-content">
                        <div class="page-header">
                            <h1 class="page-title">游戏开发工具</h1>
                            <p class="page-subtitle">实用的开发工具和插件</p>
                        </div>
                        <div class="dynamic-content">
                            <!-- 动态子页签 -->
                            <div class="sub-tabs">
                                {% assign dev_tool_posts = site.posts | where_exp: "post", "post.categories contains
                                '游戏开发工具'" %}
                                {% if dev_tool_posts.size > 0 %}
                                {% for post in dev_tool_posts %}
                                <button class="sub-tab-btn" data-target="tools-{{ forloop.index }}">
                                    {{ post.title }}
                                </button>
                                {% endfor %}
                                {% else %}
                                <p class="no-content">暂无开发工具文章</p>
                                {% endif %}
                            </div>

                            <!-- 动态内容区 -->
                            <div class="sub-content-area">
                                {% if dev_tool_posts.size > 0 %}
                                {% for post in dev_tool_posts %}
                                <div class="sub-content {% if forloop.first %}active{% endif %}"
                                    id="tools-{{ forloop.index }}-content">
                                    <div class="post-full-content">
                                        <h2>{{ post.title }}</h2>
                                        <div class="post-meta">
                                            <time>{{ post.date | date: "%Y年%m月%d日" }}</time>
                                            {% if post.tags %}
                                            <div class="tags">
                                                {% for tag in post.tags %}
                                                <span class="tag">#{{ tag }}</span>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                        </div>
                                        <div class="post-content">
                                            {{ post.content }}
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </section>

                    <!-- 开发工具子页面 -->
                    <section class="content-section" id="dev-tools-content">
                        <div class="page-header">
                            <h1 class="page-title">开发工具</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>开发工具内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 插件扩展子页面 -->
                    <section class="content-section" id="plugins-content">
                        <div class="page-header">
                            <h1 class="page-title">插件扩展</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>插件扩展内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 博客文章内容 -->
                    <section class="content-section" id="articles-content">
                        <div class="page-header">
                            <h1 class="page-title">博客文章</h1>
                            <p class="page-subtitle">技术文章与经验分享</p>
                        </div>
                        <div class="dynamic-content">
                            <!-- 动态子页签 -->
                            <div class="sub-tabs">
                                {% assign blog_posts = site.posts | where_exp: "post", "post.path contains
                                'blog-articles'" %}
                                {% if blog_posts.size > 0 %}
                                {% for post in blog_posts %}
                                <button class="sub-tab-btn" data-target="articles-{{ forloop.index }}">
                                    {{ post.title | truncate: 20 }}
                                </button>
                                {% endfor %}
                                {% else %}
                                <p class="no-content">暂无博客文章</p>
                                {% endif %}
                            </div>

                            <!-- 动态内容区 -->
                            <div class="sub-content-area">
                                {% if blog_posts.size > 0 %}
                                {% for post in blog_posts %}
                                <div class="sub-content {% if forloop.first %}active{% endif %}"
                                    id="articles-{{ forloop.index }}-content">
                                    <div class="post-full-content">
                                        <h2>{{ post.title }}</h2>
                                        <div class="post-meta">
                                            <time>{{ post.date | date: "%Y年%m月%d日" }}</time>
                                            {% if post.tags %}
                                            <div class="tags">
                                                {% for tag in post.tags %}
                                                <span class="tag">#{{ tag }}</span>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                        </div>
                                        <div class="post-content">
                                            {{ post.content }}
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </section>

                    <!-- 技术文章子页面 -->
                    <section class="content-section" id="tech-articles-content">
                        <div class="page-header">
                            <h1 class="page-title">技术文章</h1>
                            <p class="page-subtitle">分享游戏开发技术和实战经验</p>
                        </div>
                        <div class="articles-container">
                            {% if site.posts.size > 0 %}
                            <div class="article-grid">
                                {% for post in site.posts limit: 10 %}
                                <article class="article-card" data-category="{{ post.categories | first }}">
                                    <div class="article-header">
                                        <h3 class="article-title">
                                            <a href="{{ post.url | relative_url }}" target="_blank">{{ post.title }}</a>
                                        </h3>
                                        <time class="article-date">{{ post.date | date: "%Y年%m月%d日" }}</time>
                                    </div>
                                    <div class="article-excerpt">
                                        {{ post.excerpt | strip_html | truncate: 120 }}
                                    </div>
                                    <div class="article-meta">
                                        {% if post.categories %}
                                        <div class="article-categories">
                                            {% for category in post.categories %}
                                            <span class="category-tag">{{ category }}</span>
                                            {% endfor %}
                                        </div>
                                        {% endif %}
                                        {% if post.tags %}
                                        <div class="article-tags">
                                            {% for tag in post.tags limit: 3 %}
                                            <span class="tag">#{{ tag }}</span>
                                            {% endfor %}
                                        </div>
                                        {% endif %}
                                    </div>
                                </article>
                                {% endfor %}
                            </div>

                            <!-- 分页导航 -->
                            {% if site.posts.size > 10 %}
                            <div class="pagination">
                                <a href="#" class="pagination-link" onclick="loadMoreArticles()">加载更多文章</a>
                            </div>
                            {% endif %}
                            {% else %}
                            <div class="empty-state">
                                <p>暂无文章，敬请期待...</p>
                            </div>
                            {% endif %}
                        </div>
                    </section>

                    <!-- 经验分享子页面 -->
                    <section class="content-section" id="experience-content">
                        <div class="page-header">
                            <h1 class="page-title">经验分享</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>经验分享内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 开源项目内容 -->
                    <section class="content-section" id="opensource-content">
                        <div class="page-header">
                            <h1 class="page-title">开源项目</h1>
                            <p class="page-subtitle">我的开源贡献</p>
                        </div>
                        <div class="dynamic-content">
                            <!-- 动态子页签 -->
                            <div class="sub-tabs">
                                {% assign opensource_posts = site.posts | where_exp: "post", "post.categories contains
                                '开源项目'" %}
                                {% if opensource_posts.size > 0 %}
                                {% for post in opensource_posts %}
                                <button class="sub-tab-btn" data-target="opensource-{{ forloop.index }}">
                                    {{ post.title | truncate: 25 }}
                                </button>
                                {% endfor %}
                                {% else %}
                                <p class="no-content">暂无开源项目文章</p>
                                {% endif %}
                            </div>

                            <!-- 动态内容区 -->
                            <div class="sub-content-area">
                                {% if opensource_posts.size > 0 %}
                                {% for post in opensource_posts %}
                                <div class="sub-content {% if forloop.first %}active{% endif %}"
                                    id="opensource-{{ forloop.index }}-content">
                                    <div class="post-full-content">
                                        <h2>{{ post.title }}</h2>
                                        <div class="post-meta">
                                            <time>{{ post.date | date: "%Y年%m月%d日" }}</time>
                                            {% if post.tags %}
                                            <div class="tags">
                                                {% for tag in post.tags %}
                                                <span class="tag">#{{ tag }}</span>
                                                {% endfor %}
                                            </div>
                                            {% endif %}
                                        </div>
                                        <div class="post-content">
                                            {{ post.content }}
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </section>

                    <!-- 我的开源子页面 -->
                    <section class="content-section" id="my-opensource-content">
                        <div class="page-header">
                            <h1 class="page-title">我的开源</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>我的开源项目内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 贡献记录子页面 -->
                    <section class="content-section" id="contributions-content">
                        <div class="page-header">
                            <h1 class="page-title">贡献记录</h1>
                        </div>
                        <div class="content-placeholder">
                            <p>贡献记录内容正在完善中...</p>
                        </div>
                    </section>

                    <!-- 关于我内容 -->
                    <section class="content-section" id="about-content">
                        <div class="page-header">
                            <h1 class="page-title">关于我</h1>
                            <p class="page-subtitle">个人介绍与技能展示</p>
                        </div>

                        <div class="about-section">
                            <div class="about-card">
                                <h2>👨‍💻 个人简介</h2>
                                <p>一名拥有10+年游戏开发经验的前端工程师，专注于Cocos Creator游戏开发技术。热爱技术分享，致力于帮助游戏开发者提升技能。</p>
                            </div>

                            <div class="about-card">
                                <h2>🎯 技术专长</h2>
                                <ul>
                                    <li>Cocos Creator游戏引擎开发</li>
                                    <li>TypeScript/JavaScript编程</li>
                                    <li>游戏架构设计与性能优化</li>
                                    <li>开发工具与插件开发</li>
                                    <li>ECS系统设计</li>
                                </ul>
                            </div>

                            <div class="about-card">
                                <h2>🚀 开源项目</h2>
                                <ul>
                                    <li><strong>kunpolibrary</strong> - 基于creator3.0+的kunpocc库</li>
                                    <li><strong>KunpoDemo</strong> - 界面编辑器和实体编辑器实例项目</li>
                                    <li><strong>creator-build-tools</strong> - creator3.8+自动化打包工具</li>
                                    <li><strong>kunpo-ecs</strong> - TypeScript实现的ECS系统</li>
                                    <li><strong>kunpo-quadtree</strong> - 四叉树算法实现</li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- 页脚跟随内容滚动 -->
                {% include footer.html %}
            </main>
        </div>
    </div>

    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
</body>

</html>